<!DOCTYPE HTML>
<html ng-app="hw8">
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.3/angular.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" href="hw8.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="hw8.js"></script>
        <script src="dirPagination.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body ng-controller="hw8Controller" ng-init="initHW8()">
        <div class="container-fluid">

            <!-- -------------------------------------------HEADING START--------------------------------------------------------------------------------------------------- -->
            <div class="row" id="headingRow">
                <div class="col-md-1 col-xs-2">
                    <button type="button" class="btn" id="sideMenuButton" ng-click="toggleMenu()">
                        <span class="fa fa-bars" aria-hidden="true"></span>
                    </button>
                </div>
                <div class="col-md-11 col-xs-10" align="center">
                    <a href="http://sunlightfoundation.com/" target="_blank"><img id="pageHeaderImage" src="http://cs-server.usc.edu:45678/hw/hw8/images/logo.png"/><h3 id="pageHeader">Congress API</h3></a>
                </div>
            </div>
            <!-- -------------------------------------------HEADING END--------------------------------------------------------------------------------------------------- -->

            <div class="row" id="contents">
                <div class="col-md-1 col-xs-2 sideMenu" id="sideMenuItems" style="background: #3c3c3c; padding: 0; height: 100%;">
                    <div id="legislators" class="activeSideMenu" onclick="menuItemClicked(this.id)">
                        <i class="fa fa-user" aria-hidden="true" id="legislatorsIconActive"></i><i class="fa fa-user" aria-hidden="true" id="legislatorsIconInactive" style="display: none"></i>&nbsp;<span class="sideMenuLabel">Legislator</span>
                    </div>
                    <div id="bills" onclick="menuItemClicked(this.id)">
                        <i class="fa fa-file-o" aria-hidden="true" id="billsIconActive"></i><i class="fa fa-file-o" aria-hidden="true" id="billsIconInactive" style="display: none"></i>&nbsp;<span class="sideMenuLabel">&nbsp;Bills</span>
                    </div>
                    <div id="committees" onclick="menuItemClicked(this.id)">
                        <i class="fa fa-sign-in" aria-hidden="true" id="committeesIconActive"></i><i class="fa fa-sign-in" aria-hidden="true" id="committeesIconInactive" style="display: none"></i>&nbsp;<span class="sideMenuLabel">Committees</span>
                    </div>
                    <div id="favourites" onclick="menuItemClicked(this.id)">
                        <i class="fa fa-star" aria-hidden="true" id="favouritesIconActive"></i><i class="fa fa-star" aria-hidden="true" id="favouritesIconInactive" style="display: none"></i>&nbsp;<span class="sideMenuLabel">Favourites</span>
                    </div>
                </div>

                <div class="col-md-11 col-xs-10" id="sideMenuContents">
                    <div id="legislatorsContent">
                        <h3>Legislators</h3>
                        <div id="legislatorsCarousel" class="carousel slide" data-inherit="false">
                            <div class="carousel-inner" role="listbox">
                                <div class="item active">
                                    <div id="legislatorsMainBody" class="col-md-12 col-xs-12">

                                        <!-- Nav tabs -->
                                        <ul class="nav nav-tabs" role="tablist">
                                            <li role="presentation" class="active" ng-click="displayLegislatorsByStateInfo()"><a href="#byState" aria-controls="byState" role="tab" data-toggle="tab">By State</a></li>
                                            <li role="presentation"><a href="#house" aria-controls="house" role="tab" data-toggle="tab">House</a></li>
                                            <li role="presentation"><a href="#senate" aria-controls="senate" role="tab" data-toggle="tab">Senate</a></li>
                                        </ul>

                                        <!-- Tab panes -->
                                        <div class="tab-content">
                                            <div role="tabpanel" class="tab-pane active" id="byState">
                                                <nav class="navbar navbar-default" style="margin-bottom: 0">
                                                    <div class="container-fluid">
                                                        <div class="navbar-header">
                                                            <h4>Legislators By State</h4>
                                                        </div>
                                                        <form class="navbar-form" role="search" style="float: right">
                                                            <div class="form-group">
                                                                <select ng-model="state.filterState" class="form-control">
                                                                    <option value="" selected="selected">All States</option>
                                                                    <option ng-repeat="state in states" value="{{state}}">{{state}}</option>
                                                                </select>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </nav>
                                                <div style="overflow-x: auto; width: 100%; height: 100%;">
                                                    <table class="col-md-12 table table-hover" style="margin-bottom: 0px;" id="legislatorsTable" >
                                                        <thead>
                                                        <tr>
                                                            <th class="col-md-2">Party</th>
                                                            <th class="col-md-2">Name</th>
                                                            <th class="col-md-2">Chamber</th>
                                                            <th class="col-md-2">District</th>
                                                            <th class="col-md-2">State</th>
                                                            <th class="col-md-2"></th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr dir-paginate="user in legislators|orderBy: ['state_name','last_name']|filter: {state_name: state.filterState}|itemsPerPage: 10" pagination-id = 'byStatePagination'>
                                                            <td class="col-md-2"><img class="legislatorParty" ng-src="http://cs-server.usc.edu:45678/hw/hw8/images/{{user.party | lowercase}}.png" alt=""></td>
                                                            <td class="col-md-2">{{user.last_name}},{{user.first_name}}</td>
                                                            <td ng-if="user.chamber == 'senate'" class="col-md-2"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/s.svg" style="max-width: 100%; max-height: 100%; width: 10%"/>&nbsp;Senate</td>
                                                            <td ng-if="user.chamber == 'house'" class="col-md-2"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/h.png" style="max-width: 100%; max-height: 100%; width: 10%"/>&nbsp;House</td>
                                                            <td ng-if="!user.district" class="col-md-2">N.A</td>
                                                            <td ng-if="user.district" class="col-md-2">District {{user.district}}</td>
                                                            <td ng-if="!user.state_name" class="col-md-2">N.A</td>
                                                            <td ng-if="user.state_name" class="col-md-2">{{user.state_name}}</td>
                                                            <td class="col-md-2">
                                                                <button type="button" class="carousel-control btn btn-primary" ng-click="showLegislatorDetails(user)" href="#legislatorsCarousel" role="button" data-slide-to="1" style="float: right;">
                                                                    View Details
                                                                </button>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                    <div align="center">
                                                        <dir-pagination-controls
                                                            max-size="10"
                                                            direction-links="true"
                                                            boundary-links="true"
                                                            pagination-id="byStatePagination"
                                                            style="padding-top: 10px;">
                                                         </dir-pagination-controls>
                                                    </div>
                                                </div>
                                            </div>

                                            <div role="tabpanel" class="tab-pane" id="house">
                                                <nav class="navbar navbar-default" style="margin-bottom: 0">
                                                    <div class="container-fluid">
                                                        <div class="navbar-header">
                                                            <h4>Legislators By House</h4>
                                                        </div>
                                                        <form class="navbar-form" role="search" style="float: right">
                                                            <div class="form-group">
                                                                <input type="text" class="form-control" ng-model="searchHouse" placeholder="Search"/>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </nav>
                                                <div style="overflow-x: auto; width: 100%; height: 100%">
                                                    <table class="col-md-12 table table-hover" style="margin-bottom: 0px;" id="legislatorsHouseTable">
                                                        <thead>
                                                        <tr>
                                                            <th class="col-md-2">Party</th>
                                                            <th class="col-md-2">Name</th>
                                                            <th class="col-md-2">Chamber</th>
                                                            <th class="col-md-2">District</th>
                                                            <th class="col-md-2">State</th>
                                                            <th class="col-md-2"></th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr dir-paginate="user in legislators|orderBy: 'last_name'| filter: {chamber: 'house'} | filter:  searchHouse| itemsPerPage: 10" pagination-id = 'legislatorsHousePagination'>
                                                            <td class="col-md-2"><img class="legislatorParty" ng-src="http://cs-server.usc.edu:45678/hw/hw8/images/{{user.party | lowercase}}.png" alt=""></td>
                                                            <td class="col-md-2">{{user.last_name}},{{user.first_name}}</td>
                                                            <td ng-if="user.chamber == 'senate'" class="col-md-2"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/s.svg" style="max-width: 100%; max-height: 100%; width: 10%"/>&nbsp;Senate</td>
                                                            <td ng-if="user.chamber == 'house'" class="col-md-2"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/h.png" style="max-width: 100%; max-height: 100%; width: 10%"/>&nbsp;House</td>
                                                            <td ng-if="!user.district" class="col-md-2">N.A</td>
                                                            <td ng-if="user.district" class="col-md-2">District {{user.district}}</td>
                                                            <td ng-if="!user.state_name" class="col-md-2">N.A</td>
                                                            <td ng-if="user.state_name" class="col-md-2">{{user.state_name}}</td>
                                                            <td class="col-md-2">
                                                                <button type="button" class="carousel-control btn btn-primary" ng-click="showLegislatorDetails(user)" href="#legislatorsCarousel" role="button" data-slide-to="1" style="float: right;">
                                                                    View Details
                                                                </button>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                    <div align="center">
                                                        <dir-pagination-controls
                                                                max-size="10"
                                                                direction-links="true"
                                                                boundary-links="true"
                                                                pagination-id="legislatorsHousePagination"
                                                                style="padding-top: 10px;">
                                                        </dir-pagination-controls>
                                                    </div>
                                                </div>
                                            </div>

                                            <div role="tabpanel" class="tab-pane" id="senate">
                                                <nav class="navbar navbar-default" style="margin-bottom: 0">
                                                    <div class="container-fluid">
                                                        <div class="navbar-header">
                                                            <h4>Legislators By Senate</h4>
                                                        </div>
                                                        <form class="navbar-form" role="search" style="float: right">
                                                            <div class="form-group">
                                                                <input type="text" class="form-control" ng-model="searchSenate" placeholder="Search"/>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </nav>
                                                <div style="overflow-x: auto; width: 100%; height: 100%">
                                                    <table class="col-md-12 table table-hover" style="margin-bottom: 0px;" id="legislatorsSenateTable">
                                                        <thead>
                                                        <tr>
                                                            <th class="col-md-2">Party</th>
                                                            <th class="col-md-2">Name</th>
                                                            <th class="col-md-2">Chamber</th>
                                                            <th class="col-md-3">State</th>
                                                            <th class="col-md-3"></th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr dir-paginate="user in legislators|orderBy: 'last_name'|filter: {chamber: 'senate'}|filter: searchSenate| itemsPerPage: 10" pagination-id = 'legislatorsSenatePagination'>
                                                            <td class="col-md-2"><img class="legislatorParty" ng-src="http://cs-server.usc.edu:45678/hw/hw8/images/{{user.party | lowercase}}.png" alt=""></td>
                                                            <td class="col-md-2">{{user.last_name}},{{user.first_name}}</td>
                                                            <td ng-if="user.chamber == 'senate'" class="col-md-2"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/s.svg" style="max-width: 100%; max-height: 100%; width: 10%"/>&nbsp;Senate</td>
                                                            <td ng-if="user.chamber == 'house'" class="col-md-2"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/h.png" style="max-width: 100%; max-height: 100%; width: 10%"/>&nbsp;House</td>
                                                            <td ng-if="!user.state_name" class="col-md-2">N.A</td>
                                                            <td ng-if="user.state_name" class="col-md-3">{{user.state_name}}</td>
                                                            <td class="col-md-3">
                                                                <button type="button" class="carousel-control btn btn-primary" ng-click="showLegislatorDetails(user)" href="#legislatorsCarousel" role="button" data-slide-to="1" style="float: right;">
                                                                    View Details
                                                                </button>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                    <div align="center">
                                                        <dir-pagination-controls
                                                                max-size="10"
                                                                direction-links="true"
                                                                boundary-links="true"
                                                                pagination-id="legislatorsSenatePagination"
                                                                style="padding-top: 10px;">
                                                        </dir-pagination-controls>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="item">
                                    <div id="legislatorDetails" class="container-fluid">
                                        <nav class="navbar navbar-default" style="margin-bottom: 0; background-color: white">
                                            <div class="container-fluid">
                                                <div class="navbar-header" style="width: 100%">
                                                    <button type="button" class="carousel-control col-md-12 col-xs-12 btn-default" href="#legislatorsCarousel" role="button" data-slide-to="0"><</button><h4 style="display: inline-block;">Details</h4>
                                                    <a ng-if="favourite" href="#" class="btn btn-default favouritesButton" ng-click="changeFavouritesColor(selectedLegislator.bioguide_id, 'legislator')"><span class="glyphicon glyphicon-star" style="color: #fffd38;-webkit-text-stroke-width: 1px; -webkit-text-stroke-color: black"></span></a>
                                                    <a ng-if="!favourite" href="#" class="btn btn-default favouritesButton" ng-click="changeFavouritesColor(selectedLegislator.bioguide_id, 'legislator')"><span class="glyphicon glyphicon-star-empty"></span></a>
                                                </div>
                                            </div>
                                        </nav>
                                        <div class="col-md-6">
                                            <div class="row" style="margin-top: 5px;">
                                                <table class="table col-md-12 col-xs-12">
                                                    <tr rowspan=5  class="col-md-6 col-xs-12">
                                                        <td style="width: 100vh">
                                                            <img class="legislatorPhoto" ng-src="https://theunitedstates.io/images/congress/original/{{selectedLegislator.bioguide_id}}.jpg" alt="">
                                                        </td>
                                                    </tr>
                                                    <tr class="col-md-6 col-xs-12">
                                                        <td  style="width: 100vh">
                                                            {{selectedLegislator.title}}.{{selectedLegislator.last_name}},{{selectedLegislator.first_name}}
                                                        </td>
                                                    </tr>
                                                    <tr class=" col-md-6 col-xs-12">
                                                        <td style="width: 100vh" ng-if="selectedLegislator.oc_email"><a href="mailto:{{selectedLegislator.oc_email}}" target="_top"  >{{selectedLegislator.oc_email}}</a></td>
                                                        <td style="width: 100vh" ng-if="!selectedLegislator.oc_email">N.A</td>
                                                    </tr>
                                                    <tr ng-if="selectedLegislator.chamber == 'house'" class="col-md-6 col-xs-12">
                                                        <td style="width: 100vh">Chamber: House</td>
                                                    </tr>
                                                    <tr ng-if="selectedLegislator.chamber == 'senate'" class="col-md-6 col-xs-12">
                                                        <td style="width: 100vh">Chamber: Senate</td>
                                                    </tr>
                                                    <tr class="col-xs-12 col-md-6">
                                                        <td style="width: 100vh" ng-if="selectedLegislator.phone">Contact: <a href="tel:{{selectedLegislator.phone}}">{{selectedLegislator.phone}}</a></td>
                                                        <td style="width: 100vh" ng-if="!selectedLegislator.phone">N.A</td>
                                                    </tr>
                                                    <tr ng-if="selectedLegislator.party == 'R'"  class="col-xs-12 col-md-6">
                                                        <td style="width: 100vh; border-bottom: 1px solid #ddd;"><img ng-src="http://cs-server.usc.edu:45678/hw/hw8/images/{{selectedLegislator.party | lowercase}}.png" style="max-height: 100%; max-width: 50%; width: 15%; float: left"/> Republican</td>
                                                    </tr>
                                                    <tr ng-if="selectedLegislator.party == 'D'"  class="col-xs-12 col-md-6">
                                                        <td style="width: 100vh; border-bottom: 1px solid #ddd;"><img ng-src="http://cs-server.usc.edu:45678/hw/hw8/images/{{selectedLegislator.party | lowercase}}.png" style="max-height: 100%; max-width: 50%; width: 15%; float: left"/> Democrat</td>
                                                    </tr>
                                                    <tr ng-if="selectedLegislator.party == 'I'" class="col-xs-12 col-md-6">
                                                        <td style="width: 100vh; border-bottom: 1px solid #ddd;"><img ng-src="http://independentamericanparty.org/wp-content/themes/v/images/logo-american-heritage-academy.png" style="max-height: 100%; max-width: 50%; width: 15%; float: left"/> Independent</td>
                                                    </tr>
                                                </table>
                                            </div>
                                            <table class="table">
                                                <tr>
                                                    <td style="width: 30%" class="onlyDesktop">Start Term</td>
                                                    <td ng-if="selectedLegislator.term_start">{{selectedLegislator.term_start| date: 'MMM d, yyyy'}}</td>
                                                    <td ng-if="!selectedLegislator.term_start">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td style="width: 30%" class="onlyDesktop">End Term</td>
                                                    <td ng-if="selectedLegislator.term_end">{{selectedLegislator.term_end| date: 'MMM d, yyyy'}}</td>
                                                    <td ng-if="!selectedLegislator.term_end">N.A</td>
                                                </tr>
                                                <tr class="onlyDesktop">
                                                    <td style="width: 30%">
                                                        Term
                                                    </td>
                                                    <td>
                                                        <div class="progress">
                                                            <div class="progress-bar" role="progressbar" aria-valuenow="{{dateDifference}}" aria-valuemin="0" aria-valuemax="100" style="width:{{dateDifference}}%">
                                                                {{dateDifference}}%
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td style="width: 30%" class="onlyDesktop">Office</td>
                                                    <td ng-if="selectedLegislator.office">{{selectedLegislator.office}}</td>
                                                    <td ng-if="!selectedLegislator.office">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td style="width: 30%" class="onlyDesktop">State</td>
                                                    <td ng-if="selectedLegislator.state_name">{{selectedLegislator.state_name}}</td>
                                                    <td ng-if="!selectedLegislator.state_name">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td style="width: 30%" class="onlyDesktop">Fax</td>
                                                    <td ng-if="selectedLegislator.fax"><a href="fax:{{selectedLegislator.fax}}">{{selectedLegislator.fax}}</a></td>
                                                    <td ng-if="!selectedLegislator.fax">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td style="width: 30%" class="onlyDesktop">Birthday</td>
                                                    <td ng-if="selectedLegislator.birthday">{{selectedLegislator.birthday | date: 'MMM d, yyyy'}}</td>
                                                    <td ng-if="!selectedLegislator.birthday">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td style="width: 30%" class="onlyDesktop">Social Links</td>
                                                    <td>
                                                        <a ng-if="selectedLegislator.twitter_id" href="https://twitter.com/{{selectedLegislator.twitter_id}}" target="_blank"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/t.png" style="max-width: 9.3%; max-height: 100%" alt=""></a>
                                                        <a ng-if="selectedLegislator.facebook_id" href="https://facebook.com/{{selectedLegislator.facebook_id}}" target="_blank"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/f.png" style="max-width: 9.3%; max-height: 100%" alt=""></a>
                                                        <a ng-if="selectedLegislator.website" href="{{selectedLegislator.website}}" target="_blank"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/w.png" style="max-width: 9.3%; max-height: 100%" alt=""></a>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>

                                        <div class="col-md-6">
                                            <h4>Committees</h4>
                                            <table class="table legislatorDetailsComBillTable">
                                                <tr>
                                                    <th>Chamber</th>
                                                    <th>Committee ID</th>
                                                    <th class="onlyDesktop">Name</th>
                                                </tr>
                                                <tr ng-repeat="committee in legislatorCommittees">
                                                    <td ng-if="committee.chamber == 'house'">House</td>
                                                    <td ng-if="committee.chamber == 'senate'">Senate</td>
                                                    <td ng-if="committee.chamber == 'joint'">Joint</td>
                                                    <td ng-if="committee.committee_id">{{committee.committee_id}}</td>
                                                    <td ng-if="!committee.committee_id">N.A</td>
                                                    <td ng-if="committee.name" class="onlyDesktop">{{committee.name}}</td>
                                                    <td ng-if="!committee.name" class="onlyDesktop">N.A</td>
                                                </tr>
                                            </table>
                                            <h4>Bills</h4>
                                            <table class="table legislatorDetailsComBillTable">
                                                <!--<table class="table">-->
                                                    <tr>
                                                        <th>Bill ID</th>
                                                        <th class="onlyDesktop">Title</th>
                                                        <th class="onlyDesktop">Chamber</th>
                                                        <th class="onlyDesktop">Bill Type</th>
                                                        <th class="onlyDesktop">Congress</th>
                                                        <th>Link</th>
                                                    </tr>
                                                    <tr ng-repeat="bill in legislatorBills">
                                                        <td>{{bill.bill_id| uppercase}}</td>
                                                        <td class="onlyDesktop" ng-if="bill.official_title">{{bill.official_title}}</td>
                                                        <td class="onlyDesktop" ng-if="!bill.official_title">N.A</td>
                                                        <td class="onlyDesktop" ng-if="bill.chamber">{{bill.chamber}}</td>
                                                        <td class="onlyDesktop" ng-if="!bill.chamber">N.A</td>
                                                        <td class="onlyDesktop" ng-if="bill.bill_type">{{bill.bill_type}}</td>
                                                        <td class="onlyDesktop" ng-if="!bill.bill_type">N.A</td>
                                                        <td class="onlyDesktop" ng-if="bill.congress">{{bill.congress}}</td>
                                                        <td class="onlyDesktop" ng-if="!bill.congress">N.A</td>
                                                        <td ng-if="bill.last_version.urls.pdf"><a href="{{bill.last_version.urls.pdf}}" target="_blank">Link</a></td>
                                                        <td ng-if="!bill.last_version.urls.pdf">N.A</td>
                                                    </tr>
                                                <!--</table>-->
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--  ---------------------------------------------BILLS CONTENTS----------------------------------------------------  -->
                    <div id="billsContent">
                        <h3>Bills</h3>
                        <div id="billsCarousel" class="carousel slide" data-inherit="false">
                            <div class="carousel-inner" role="listbox">
                                <div class="item active">
                                    <div id="billsMainBody" class="col-md-12 col-xs-12">

                                        <!-- Nav tabs -->
                                        <ul class="nav nav-tabs" role="tablist">
                                            <li role="presentation" class="active" ng-click="displayBillsContent()"><a href="#activeBills" aria-controls="activeBills" role="tab" data-toggle="tab">Active Bills</a></li>
                                            <li role="presentation"><a ng-click = "displayNewBillsContent()" href="#newBills" aria-controls="house" role="tab" data-toggle="tab">New Bills</a></li>
                                        </ul>

                                        <!-- Tab panes -->
                                        <div class="tab-content">
                                            <div role="tabpanel" class="tab-pane active" id="activeBills">
                                                <nav class="navbar navbar-default" style="margin-bottom: 0">
                                                    <div class="container-fluid">
                                                        <div class="navbar-header">
                                                            <h4>Active Bills</h4>
                                                        </div>
                                                        <form class="navbar-form" role="search" style="float: right">
                                                            <div class="form-group">
                                                                <input type="text" class="form-control" ng-model="searchActiveBills" placeholder="Search"/>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </nav>
                                                <div style="overflow-x: auto; width: 100%; height: 100%">
                                                    <table class="col-md-12 table table-hover" style="margin-bottom: 0px;" id="activeBillsTable">
                                                        <thead>
                                                        <tr>
                                                            <th class="col-md-2 col-xs-2">Bill ID</th>
                                                            <th class="col-md-1 col-xs-2">Bill Type</th>
                                                            <th class="onlyDesktop">Title</th>
                                                            <th class="col-md-1 col-xs-2">Chamber</th>
                                                            <th class="col-md-2 col-xs-2">Introduced On</th>
                                                            <th class="col-md-2 col-xs-2">Sponsor</th>
                                                            <th class="col-md-2 col-xs-2"></th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr dir-paginate="bill in activeBills|orderBy: '-introduced_on'|filter: searchActiveBills|itemsPerPage: 10" pagination-id = 'activeBillsPagination'>
                                                            <td class="col-md-2 col-xs-2">{{bill.bill_id | uppercase}}</td>
                                                            <td ng-if="bill.bill_type" class="col-md-1 col-xs-2">{{bill.bill_type | uppercase}}</td>
                                                            <td ng-if="!bill.bill_type" class="col-md-1 col-xs-2">N.A</td>
                                                            <td ng-if="bill.official_title" class="onlyDesktop">{{bill.official_title}}</td>
                                                            <td ng-if="!bill.official_title" class="onlyDesktop">N.A</td>
                                                            <td ng-if="bill.chamber == 'senate'" class="col-md-1 col-xs-2"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/s.svg" style="max-width: 100%; max-height: 100%; width: 35%"/>&nbsp;Senate</td>
                                                            <td ng-if="bill.chamber == 'house'" class="col-md-1 col-xs-2"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/h.png" style="max-width: 100%; max-height: 100%; width: 35%"/>&nbsp;House</td>
                                                            <td ng-if="bill.introduced_on" class="col-md-2 col-xs-2">{{bill.introduced_on}}</td>
                                                            <td ng-if="!bill.introduced_on" class="col-md-2 col-xs-2">N.A</td>
                                                            <td class="col-md-2 col-xs-2">{{bill.sponsor.title}}.{{bill.sponsor.last_name}},{{bill.sponsor.first_name}}</td>
                                                            <td class="col-md-2 col-xs-2">
                                                                <button type="button" class="carousel-control btn btn-primary" ng-click="showBillDetails(bill)" href="#billsCarousel" role="button" data-slide-to="1" style="float: right;">
                                                                    View Details
                                                                </button>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                    <div align="center">
                                                        <dir-pagination-controls
                                                                max-size="10"
                                                                direction-links="true"
                                                                boundary-links="true"
                                                                pagination-id="activeBillsPagination"
                                                                style="padding-top: 10px;">
                                                        </dir-pagination-controls>
                                                    </div>
                                                </div>
                                            </div>
                                            <div role="tabpanel" class="tab-pane" id="newBills">
                                                <nav class="navbar navbar-default" style="margin-bottom: 0">
                                                    <div class="container-fluid">
                                                        <div class="navbar-header">
                                                            <h4>New Bills</h4>
                                                        </div>
                                                        <form class="navbar-form" role="search" style="float: right">
                                                            <div class="form-group">
                                                                <input type="text" class="form-control" ng-model="searchNewBills" placeholder="Search"/>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </nav>
                                                <div style="overflow-x: auto; width: 100%; height: 100%">
                                                    <table class="col-md-12 table table-hover" style="margin-bottom: 0px;" id="newBillsTable">
                                                        <thead>
                                                        <tr>
                                                            <th class="col-md-2 col-xs-2">Bill ID</th>
                                                            <th class="col-md-1 col-xs-2">Bill Type</th>
                                                            <th class="onlyDesktop">Title</th>
                                                            <th class="col-md-1 col-xs-2">Chamber</th>
                                                            <th class="col-md-2 col-xs-2">Introduced On</th>
                                                            <th class="col-md-2 col-xs-2">Sponsor</th>
                                                            <th class="col-md-2 col-xs-2"></th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr dir-paginate="bill in newBills|orderBy: '-introduced_on'|filter: searchNewBills|itemsPerPage: 10" pagination-id = 'newBillsPagination'>
                                                            <td class="col-md-2 col-xs-2">{{bill.bill_id | uppercase}}</td>
                                                            <td ng-if="bill.bill_type" class="col-md-1 col-xs-2">{{bill.bill_type | uppercase}}</td>
                                                            <td ng-if="!bill.bill_type" class="col-md-1 col-xs-2">N.A</td>
                                                            <td ng-if="bill.official_title" class="onlyDesktop">{{bill.official_title}}</td>
                                                            <td ng-if="!bill.official_title" class="onlyDesktop">N.A</td>
                                                            <td ng-if="bill.chamber == 'senate'" class="col-md-1 col-xs-2"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/s.svg" style="max-width: 100%; max-height: 100%; width: 35%"/>&nbsp;Senate</td>
                                                            <td ng-if="bill.chamber == 'house'" class="col-md-1 col-xs-2"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/h.png" style="max-width: 100%; max-height: 100%; width: 35%"/>&nbsp;House</td>
                                                            <td ng-if="bill.introduced_on" class="col-md-2 col-xs-2">{{bill.introduced_on}}</td>
                                                            <td ng-if="!bill.introduced_on" class="col-md-2 col-xs-2">N.A</td>
                                                            <td class="col-md-2 col-xs-2">{{bill.sponsor.title}}.{{bill.sponsor.last_name}},{{bill.sponsor.first_name}}</td>
                                                            <td class="col-md-2 col-xs-2">
                                                                <button type="button" class="carousel-control btn btn-primary" ng-click="showBillDetails(bill)" href="#billsCarousel" role="button" data-slide-to="1" style="float: right; position: inherit; text-align: center; height: 25px; width: auto; font-style: normal; text-shadow: none; background-color: #337ab7; border-color: #2e6da4; padding: 6px 12px; font-weight: 400; line-height: 0.42857143; white-space: nowrap; vertical-align: middle;-ms-touch-action: manipulation; touch-action: manipulation; cursor: pointer; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; background-image: none; border: 1px solid transparent; border-radius: 4px; opacity: 1; font-size: 16px;">
                                                                    View Details
                                                                </button>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                    <div align="center">
                                                        <dir-pagination-controls
                                                                max-size="10"
                                                                direction-links="true"
                                                                boundary-links="true"
                                                                pagination-id="newBillsPagination"
                                                                style="padding-top: 10px;">
                                                        </dir-pagination-controls>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="item">
                                    <div id="billDetails" class="container-fluid" style="height: 80vh">
                                        <nav class="navbar navbar-default" style="margin-bottom: 0; background-color: white">
                                            <div class="container-fluid">
                                                <div class="navbar-header col-md-12 col-xs-12">
                                                    <button type="button" class="carousel-control btn-default" href="#billsCarousel" role="button" data-slide-to="0"><i class="fa fa-angle-left" aria-hidden="true"></i></button><h4 style="display: inline-block;">Details</h4>
                                                    <a ng-if="favourite" href="#" class="btn btn-default favouritesButton" ng-click="changeFavouritesColor(selectedBill.bill_id, 'bill')"><span class="glyphicon glyphicon-star" style="color: #fffd38;-webkit-text-stroke-width: 1px; -webkit-text-stroke-color: black"></span></a>
                                                    <a ng-if="!favourite" href="#" class="btn btn-default favouritesButton" ng-click="changeFavouritesColor(selectedBill.bill_id, 'bill')"><span class="glyphicon glyphicon-star-empty"></span></a>
                                                </div>
                                            </div>
                                        </nav>
                                        <div class="col-md-6 col-xs-12">
                                            <table class="table">
                                                <tr>
                                                    <td class="col-xs-6">Bill ID</td>
                                                    <td class="col-xs-6">{{selectedBill.bill_id | uppercase}}</td>
                                                </tr>
                                                <tr class="onlyDesktop">
                                                    <td class="col-xs-6">Title</td>
                                                    <td class="col-xs-6" ng-if="selectedBill.official_title">{{selectedBill.official_title}}</td>
                                                    <td class="col-xs-6" ng-if="!selectedBill.official_title">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td class="col-xs-6">Bill Type</td>
                                                    <td class="col-xs-6" ng-if="selectedBill.bill_type">{{selectedBill.bill_type | uppercase}}</td>
                                                    <td class="col-xs-6" ng-if="!selectedBill.bill_type">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td class="col-xs-6">Sponsor</td>
                                                    <td class="col-xs-6">{{selectedBill.sponsor.title}}.{{selectedBill.sponsor.last_name}},{{selectedBill.sponsor.first_name}}</td>
                                                </tr>
                                                <tr>
                                                    <td class="col-xs-6">Chamber</td>
                                                    <td class="col-xs-6" ng-if="selectedBill.chamber == 'senate'">Senate</td>
                                                    <td class="col-xs-6" ng-if="selectedBill.chamber == 'house'">House</td>
                                                </tr>
                                                <tr>
                                                    <td class="col-xs-6">Status</td>
                                                    <td class="col-xs-6" ng-if="selectedBill.history.active == false">New</td>
                                                    <td class="col-xs-6" ng-if="selectedBill.history.active == true">Active</td>
                                                </tr>
                                                <tr>
                                                    <td class="col-xs-6">Introduced On</td>
                                                    <td class="col-xs-6" ng-if="selectedBill.introduced_on">{{selectedBill.introduced_on | date: "MMM d, yyyy"}}</td>
                                                    <td class="col-xs-6" ng-if="!selectedBill.introduced_on">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td class="col-xs-6">Congress URL</td>
                                                    <td class="col-xs-6" ng-if="selectedBill.last_version.urls.html"><a href="{{selectedBill.last_version.urls.html}}" target="_blank">URL</a></td>
                                                    <td class="col-xs-6" ng-if="!selectedBill.last_version.urls.html">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td class="col-xs-6">Version Status</td>
                                                    <td class="col-xs-6" ng-if="selectedBill.last_version.version_name">{{selectedBill.last_version.version_name}}</td>
                                                    <td class="col-xs-6" ng-if="!selectedBill.last_version.version_name">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td class="col-xs-6">Bill URL</td>
                                                    <td class="col-xs-6" ng-if="selectedBill.last_version.urls.pdf"><a href="{{selectedBill.last_version.urls.pdf}}" target="_blank">Link</a></td>
                                                    <td class="col-xs-6" ng-if="!selectedBill.last_version.urls.pdf">N.A</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <div class="col-md-6 col-xs-12" style="height: 90%">
                                            <object width="100%" height="100%" class="col-xs-12" data="{{selectedBill.last_version.urls.pdf}}" type="application/pdf"></object>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--   ---------------------------------COMMITTEES CONTENT---------------------------------------------------------------   -->
                    <div id="committeesContent">
                        <h3>Committees</h3>
                        <div id="committeesMainBody" class="col-md-12 col-xs-12">

                            <!-- Nav tabs -->
                            <ul class="nav nav-tabs" role="tablist">
                                <li role="presentation" class="active" ng-click="displayCommitteesHouseInfo()"><a href="#committeesHouse" aria-controls="committeesHouse" role="tab" data-toggle="tab">House</a></li>
                                <li role="presentation"><a href="#committeesSenate" aria-controls="committeesSenate" role="tab" data-toggle="tab">Senate</a></li>
                                <li role="presentation"><a href="#committeesJoint" aria-controls="committeesJoint" role="tab" data-toggle="tab">Joint</a></li>
                            </ul>

                            <!-- Tab panes -->
                            <div class="tab-content">
                                <div role="tabpanel" class="tab-pane active" id="committeesHouse">
                                    <nav class="navbar navbar-default" style="margin-bottom: 0">
                                        <div class="container-fluid">
                                            <div class="navbar-header">
                                                <h4>House</h4>
                                            </div>
                                            <form class="navbar-form" role="search" style="float: right">
                                                <div class="form-group">
                                                    <input type="text" class="form-control" ng-model="searchCommitteesHouse" placeholder="Search"/>
                                                </div>
                                            </form>
                                        </div>
                                    </nav>
                                    <div style="overflow-x: auto; width: 100%; height: 100%">
                                        <table class="col-md-12 table table-hover" style="margin-bottom: 0px;" id="committeesHouseTable">
                                            <thead>
                                            <tr>
                                                <th class="col-md-2" style="text-align: right">Chamber</th>
                                                <th class="col-md-1">Committee ID</th>
                                                <th class="col-md-6">Name</th>
                                                <th class="col-md-1">Parent Committee</th>
                                                <th class="col-md-1">Contact</th>
                                                <th class="col-md-1">Office</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr dir-paginate="committee in committees|filter: {chamber: 'house'}|orderBy: 'committee_id'| filter: searchCommitteesHouse|itemsPerPage: 10" pagination-id = 'committeesHousePagination'>
                                                <td class="col-md-2" align="right">
                                                    <img src="http://cs-server.usc.edu:45678/hw/hw8/images/h.png" style="max-height: 100%; max-width: 100%; width: 15%;" alt=""> House
                                                    <a href="#" ng-if="favouriteCommittees.indexOf(committee.committee_id) != -1" class="btn btn-default favouritesButton" ng-click="changeFavouritesColorCommittees(committee.committee_id)" ng-attr-id="{{committee.committee_id+'selected'}}" style="float: left;"><span class="glyphicon glyphicon-star" style="color: #fffd38;-webkit-text-stroke-width: 1px; -webkit-text-stroke-color: black"></span></a>
                                                    <a href="#" ng-if="favouriteCommittees.indexOf(committee.committee_id) == -1" class="btn btn-default favouritesButton" ng-click="changeFavouritesColorCommittees(committee.committee_id)" ng-attr-id="{{committee.committee_id}}" style="float: left"><span class="glyphicon glyphicon-star-empty"></span></a>
                                                </td>
                                                <td class="col-md-1">{{committee.committee_id}}</td>
                                                <td ng-if="committee.name" class="col-md-6">{{committee.name}}</td>
                                                <td ng-if="!committee.name" class="col-md-6">N.A</td>
                                                <td class="col-md-1">{{committee.parent_committee_id}}</td>
                                                <td ng-if="committee.phone" class="col-md-1">{{committee.phone}}</td>
                                                <td ng-if="!committee.phone" class="col-md-1">N.A</td>
                                                <td ng-if="committee.office" class="col-md-1">{{committee.office}}</td>
                                                <td ng-if="!committee.office" class="col-md-1">N.A</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <div align="center">
                                            <dir-pagination-controls
                                                    max-size="10"
                                                    direction-links="true"
                                                    boundary-links="true"
                                                    pagination-id="committeesHousePagination"
                                                    style="padding-top: 10px;">
                                            </dir-pagination-controls>
                                        </div>
                                    </div>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="committeesSenate">
                                    <nav class="navbar navbar-default" style="margin-bottom: 0">
                                        <div class="container-fluid">
                                            <div class="navbar-header">
                                                <h4>Senate</h4>
                                            </div>
                                            <form class="navbar-form" role="search" style="float: right">
                                                <div class="form-group">
                                                    <input type="text" class="form-control" ng-model="searchCommitteesSenate" placeholder="Search"/>
                                                </div>
                                            </form>
                                        </div>
                                    </nav>
                                    <div style="overflow-x: auto; width: 100%; height: 100%">
                                        <table class="col-md-12 table table-hover" style="margin-bottom: 0px;" id="committeesSenateTable">
                                            <thead>
                                            <tr>
                                                <th class="col-md-2 col-xs-3" style="text-align: right">Chamber</th>
                                                <th class="col-md-1 col-xs-2">Committee ID</th>
                                                <th class="col-md-8 col-xs-6">Name</th>
                                                <th class="col-md-1 col-xs-1">Parent Committee</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr dir-paginate="committee in committees|filter: {chamber: 'senate'}|orderBy: 'committee_id'|filter: searchCommitteesSenate|itemsPerPage: 10" pagination-id = 'committeesSenatePagination'>
                                                <td class="col-md-2" align="right">
                                                    <img src="s.svg" style="max-height: 100%; max-width: 100%; width: 15%;" alt=""> Senate
                                                    <a href="#" ng-if="favouriteCommittees.indexOf(committee.committee_id) != -1" class="btn btn-default favouritesButton" ng-click="changeFavouritesColorCommittees(committee.committee_id)" ng-attr-id="{{committee.committee_id+'selected'}}" style="float: left;"><span class="glyphicon glyphicon-star" style="color: #fffd38;-webkit-text-stroke-width: 1px; -webkit-text-stroke-color: black"></span></a>
                                                    <a href="#" ng-if="favouriteCommittees.indexOf(committee.committee_id) == -1" class="btn btn-default favouritesButton" ng-click="changeFavouritesColorCommittees(committee.committee_id)" ng-attr-id="{{committee.committee_id}}" style="float: left"><span class="glyphicon glyphicon-star-empty"></span></a>
                                                </td>
                                                <td class="col-md-1">{{committee.committee_id}}</td>
                                                <td ng-if="committee.name" class="col-md-8">{{committee.name}}</td>
                                                <td ng-if="!committee.name" class="col-md-8">N.A</td>
                                                <td class="col-md-1">{{committee.parent_committee_id}}</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <div align="center">
                                            <dir-pagination-controls
                                                    max-size="10"
                                                    direction-links="true"
                                                    boundary-links="true"
                                                    pagination-id="committeesSenatePagination"
                                                    style="padding-top: 10px;">
                                            </dir-pagination-controls>
                                        </div>
                                    </div>
                                </div>


                                <div role="tabpanel" class="tab-pane" id="committeesJoint">
                                    <nav class="navbar navbar-default" style="margin-bottom: 0">
                                        <div class="container-fluid">
                                            <div class="navbar-header">
                                                <h4>Joint</h4>
                                            </div>
                                            <form class="navbar-form" role="search" style="float: right">
                                                <div class="form-group">
                                                    <input type="text" class="form-control" ng-model="searchCommitteesJoint" placeholder="Search"/>
                                                </div>
                                            </form>
                                        </div>
                                    </nav>
                                    <div style="overflow-x: auto; width: 100%; height: 100%">
                                        <table class="col-md-12 table table-hover" style="margin-bottom: 0px;" id="committeesJointTable">
                                            <thead>
                                            <tr>
                                                <th class="col-md-2 col-xs-3"  style="text-align: right">Chamber</th>
                                                <th class="col-md-1 col-xs-2">Committee ID</th>
                                                <th class="col-md-9 col-xs-7">Name</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr dir-paginate="committee in committees|filter: {chamber: 'joint'}|orderBy: 'committee_id'|filter: searchCommitteesJoint|itemsPerPage: 10" pagination-id = 'committeesJointPagination'>
                                                <td class="col-md-2" align="right">
                                                    <img src="s.svg" style="max-height: 100%; max-width: 100%; width: 15%;" alt=""> Joint
                                                    <a href="#" ng-if="favouriteCommittees.indexOf(committee.committee_id) != -1" class="btn btn-default favouritesButton" ng-click="changeFavouritesColorCommittees(committee.committee_id)" ng-attr-id="{{committee.committee_id+'selected'}}" style="float: left;"><span class="glyphicon glyphicon-star" style="color: #fffd38;-webkit-text-stroke-width: 1px; -webkit-text-stroke-color: black"></span></a>
                                                    <a href="#" ng-if="favouriteCommittees.indexOf(committee.committee_id) == -1" class="btn btn-default favouritesButton" ng-click="changeFavouritesColorCommittees(committee.committee_id)" ng-attr-id="{{committee.committee_id}}" style="float: left"><span class="glyphicon glyphicon-star-empty"></span></a>
                                                </td>
                                                <td class="col-md-1">{{committee.committee_id}}</td>
                                                <td ng-if="committee.name" class="col-md-9">{{committee.name}}</td>
                                                <td ng-if="!committee.name" class="col-md-9">N.A</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <div align="center">
                                            <dir-pagination-controls
                                                    max-size="10"
                                                    direction-links="true"
                                                    boundary-links="true"
                                                    pagination-id="committeesJointPagination"
                                                    style="padding-top: 10px;">
                                            </dir-pagination-controls>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                   <!-- -------------------------------------FAVOURITES CONTENT-------------------------------------------------------------------   -->
                    <div id="favouritesContent">
                        <h3>Favourites</h3>
                        <div id="favouritesCarousel" class="carousel slide" data-inherit="false">
                            <div class="carousel-inner" role="listbox">
                                <div class="item active">
                                    <div id="favouritesMainBody" class="col-md-12 col-xs-12">

                                        <!-- Nav tabs -->
                                        <ul class="nav nav-tabs" role="tablist">
                                            <li role="presentation" class="active" ng-click="displayFavouritesContent()"><a href="#favouriteLegislators" aria-controls="favouriteLegislators" role="tab" data-toggle="tab">Legislators</a></li>
                                            <li role="presentation"><a href="#favouriteBills" aria-controls="favouriteBills" role="tab" data-toggle="tab">Bills</a></li>
                                            <li role="presentation"><a href="#favouriteCommittees" aria-controls="favouriteCommittees" role="tab" data-toggle="tab">Committees</a></li>
                                        </ul>

                                        <!-- Tab panes -->
                                        <div class="tab-content">
                                            <div role="tabpanel" class="tab-pane active" id="favouriteLegislators">
                                                <nav class="navbar navbar-default" style="margin-bottom: 0">
                                                    <div class="container-fluid">
                                                        <div class="navbar-header">
                                                            <h4>Favourite Legislators</h4>
                                                        </div>
                                                    </div>
                                                </nav>
                                                <div style="overflow-x: auto; width: 100%; height: 100%">
                                                    <table class="col-md-12 table table-hover" style="margin-bottom: 0px;" id="favouriteLegislatorsTable">
                                                        <thead>
                                                        <tr>
                                                            <th class="col-md-1"></th>
                                                            <th class="col-md-1">Image</th>
                                                            <th class="col-md-1">Party</th>
                                                            <th class="col-md-2">Name</th>
                                                            <th class="col-md-2">Chamber</th>
                                                            <th class="col-md-1">State</th>
                                                            <th class="col-md-3">Email</th>
                                                            <th class="col-md-1"></th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr ng-repeat="legislator in favouriteLegislatorsContents">
                                                            <td class="col-md-1">
                                                                <a href="#" class="btn btn-default deleteButton" ng-click="deleteFavourite(legislator.bioguide_id, 'legislator');"><span class="glyphicon glyphicon-trash"></span></a>
                                                            </td>
                                                            <td class="col-md-1">
                                                                <img class="favLegislatorImage" ng-src="https://theunitedstates.io/images/congress/original/{{legislator.bioguide_id}}.jpg" alt="">
                                                            </td>
                                                            <td ng-if="legislator.party == 'R'" class="col-md-1">
                                                                <img ng-src="http://cs-server.usc.edu:45678/hw/hw8/images/{{legislator.party | lowercase}}.png" style="max-height: 100%; max-width: 50%;"/>
                                                            </td>
                                                            <td ng-if="legislator.party == 'D'" class="col-md-1">
                                                                <img ng-src="http://cs-server.usc.edu:45678/hw/hw8/images/{{legislator.party | lowercase}}.png" style="max-height: 100%; max-width: 50%;"/>
                                                            </td>
                                                            <td class="col-md-2">{{legislator.last_name}}, {{legislator.first_name}}</td>
                                                            <td ng-if="legislator.chamber == 'senate'" class="col-md-2"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/s.svg" style="max-width: 100%; max-height: 100%; width: 20%"/>&nbsp;Senate</td>
                                                            <td ng-if="legislator.chamber == 'house'" class="col-md-2"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/h.png" style="max-width: 100%; max-height: 100%; width: 20%"/>&nbsp;House</td>
                                                            <td ng-if="legislator.state_name" class="col-md-1">{{legislator.state_name}}</td>
                                                            <td ng-if="!legislator.state_name" class="col-md-1">N.A</td>
                                                            <td ng-if="legislator.oc_email" class="col-md-3"><a href="mailto:{{legislator.oc_email}}" target="_top">{{legislator.oc_email}}</a></td>
                                                            <td ng-if="!legislator.oc_email" class="col-md-3">N.A</td>
                                                            <td class="col-md-1">
                                                                <button type="button" class="carousel-control btn btn-primary" ng-click="showLegislatorDetails(legislator)" href="#favouritesCarousel" role="button" data-slide-to=1 style="float: right;">
                                                                    View Details
                                                                </button>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>

                                            <div role="tabpanel" class="tab-pane" id="favouriteBills">
                                                <nav class="navbar navbar-default" style="margin-bottom: 0">
                                                    <div class="container-fluid">
                                                        <div class="navbar-header">
                                                            <h4>Favourite Bills</h4>
                                                        </div>
                                                    </div>
                                                </nav>
                                                <div style="overflow-x: auto; width: 100%; height: 100%">
                                                    <table class="col-md-12 table table-hover" style="margin-bottom: 0px;" id="favouriteBillsTable">
                                                        <thead>
                                                        <tr>
                                                            <th class="col-md-1"></th>
                                                            <th class="col-md-1">Bill ID</th>
                                                            <th class="col-md-1">Bill Type</th>
                                                            <th class="onlyDesktop">Title</th>
                                                            <th class="col-md-2">Chamber</th>
                                                            <th class="col-md-1">Introduced On</th>
                                                            <th class="col-md-2">Sponsor</th>
                                                            <th class="col-md-1"></th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr ng-repeat="bill in favouriteBillsContents">
                                                            <td class="col-md-1">
                                                                <a href="#" class="btn btn-default deleteButton" ng-click="deleteFavourite(bill.bill_id, 'bill');"><span class="glyphicon glyphicon-trash"></span></a>
                                                            </td>
                                                            <td class="col-md-1">{{bill.bill_id | uppercase}}</td>
                                                            <td class="col-md-1">{{bill.bill_type | uppercase}}</td>
                                                            <td ng-if="bill.official_title" class="onlyDesktop">{{bill.official_title}}</td>
                                                            <td ng-if="!bill.official_title" class="onlyDesktop">N.A</td>
                                                            <td ng-if="bill.chamber == 'senate'" class="col-md-2"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/s.svg" style="max-width: 100%; max-height: 100%; width: 10%"/>&nbsp;Senate</td>
                                                            <td ng-if="bill.chamber == 'house'" class="col-md-2"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/h.png" style="max-width: 100%; max-height: 100%; width: 10%"/>&nbsp;House</td>
                                                            <td ng-if="bill.introduced_on" class="col-md-1">{{bill.introduced_on}}</td>
                                                            <td ng-if="!bill.introduced_on" class="col-md-1">N.A</td>
                                                            <td class="col-md-2">{{bill.sponsor.title}}.{{bill.sponsor.last_name}},{{bill.sponsor.first_name}}</td>
                                                            <td class="col-md-1">
                                                                <button type="button" class="carousel-control btn btn-primary" ng-click="showBillDetails(bill)" href="#favouritesCarousel" role="button" data-slide-to=2 style="float: right; height: 25px; position: inherit; text-align: center; width: auto; font-style: normal; text-shadow: none; background-color: #337ab7; border-color: #2e6da4; padding: 6px 12px; font-weight: 400; line-height: 0.42857143; white-space: nowrap; vertical-align: middle;-ms-touch-action: manipulation; touch-action: manipulation; cursor: pointer; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; background-image: none; border: 1px solid transparent; border-radius: 4px; opacity: 1; font-size: 16px;">
                                                                    View Details
                                                                </button>
                                                            </td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                 </div>
                                            </div>

                                            <div role="tabpanel" class="tab-pane" id="favouriteCommittees">
                                                <nav class="navbar navbar-default" style="margin-bottom: 0">
                                                    <div class="container-fluid">
                                                        <div class="navbar-header">
                                                            <h4>Favourite Committees</h4>
                                                        </div>
                                                    </div>
                                                </nav>
                                                <div style="overflow-x: auto; width: 100%; height: 100%">
                                                    <table class="col-md-12 table table-hover" style="margin-bottom: 0px;" id="favouriteCommitteesTable">
                                                        <thead>
                                                            <tr>
                                                                <th class="col-md-1"></th>
                                                                <th class="col-md-2">Chamber</th>
                                                                <th class="col-md-1">Committee ID</th>
                                                                <th class="col-md-5">Name</th>
                                                                <th class="col-md-1">Parent Committee</th>
                                                                <th class="col-md-2">Sub Committee</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr ng-repeat="committee in favouriteCommitteesContents">
                                                            <td class="col-md-1">
                                                                <a href="#" class="btn btn-default deleteButton" ng-click="deleteFavourite(committee.committee_id, 'committeeFav');"><span class="glyphicon glyphicon-trash"></span></a>
                                                            </td>
                                                            <td ng-if="committee.chamber == 'senate'" class="col-md-2"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/s.svg" style="max-width: 100%; max-height: 100%; width: 10%"/>&nbsp;Senate</td>
                                                            <td ng-if="committee.chamber == 'house'" class="col-md-2"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/h.png" style="max-width: 100%; max-height: 100%; width: 10%"/>&nbsp;House</td>
                                                            <td ng-if="committee.chamber == 'joint'" class="col-md-2"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/h.png" style="max-width: 100%; max-height: 100%; width: 10%"/>&nbsp;Joint</td>
                                                            <td class="col-md-1">{{committee.committee_id}}</td>
                                                            <td class="col-md-5">{{committee.name}}</td>
                                                            <td class="col-md-1">{{committee.parent_committee_id}}</td>
                                                            <td class="col-md-1">{{committee.subcommittee}}</td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                                 </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="item">


                                    <div id="favouriteLegislatorDetails" class="container-fluid">
                                        <nav class="navbar navbar-default" style="margin-bottom: 0; background-color: white">
                                            <div class="container-fluid">
                                                <div class="navbar-header" style="width: 100%">
                                                    <button type="button" class="carousel-control btn-default" href="#favouritesCarousel" role="button" data-slide-to=0><</button><h4 style="display: inline-block;">Details</h4>
                                                    <a ng-if="favourite" href="#" class="btn btn-default favouritesButton" ng-click="changeFavouritesColor(selectedLegislator.bioguide_id, 'legislator'); deleteFavourite(selectedLegislator.bioguide_id, 'legislator')"><span class="glyphicon glyphicon-star" style="color: #fffd38;-webkit-text-stroke-width: 1px; -webkit-text-stroke-color: black"></span></a>
                                                    <a ng-if="!favourite" href="#" class="btn btn-default favouritesButton" ng-click="changeFavouritesColor(selectedLegislator.bioguide_id, 'legislator')"><span class="glyphicon glyphicon-star-empty"></span></a>
                                                </div>
                                            </div>
                                        </nav>
                                        <div class="col-md-6">
                                            <div class="row"  style="margin-top: 5px;">
                                                <table class="table col-md-12 col-xs-12">
                                                    <tr rowspan=5  class="col-md-6 col-xs-12">
                                                        <td style="width: 100vh">
                                                            <img class="legislatorPhoto" ng-src="https://theunitedstates.io/images/congress/original/{{selectedLegislator.bioguide_id}}.jpg" alt="">
                                                        </td>
                                                    </tr>
                                                    <tr class="col-md-6 col-xs-12">
                                                        <td  style="width: 100vh">
                                                            {{selectedLegislator.title}}.{{selectedLegislator.last_name}},{{selectedLegislator.first_name}}
                                                        </td>
                                                    </tr>
                                                    <tr class=" col-md-6 col-xs-12">
                                                        <td style="width: 100vh" ng-if="selectedLegislator.oc_email"><a href="mailto:{{selectedLegislator.oc_email}}" target="_top"  >{{selectedLegislator.oc_email}}</a></td>
                                                        <td style="width: 100vh" ng-if="!selectedLegislator.oc_email">N.A</td>
                                                    </tr>
                                                    <tr ng-if="selectedLegislator.chamber == 'house'" class="col-md-6 col-xs-12">
                                                        <td style="width: 100vh">Chamber: House</td>
                                                    </tr>
                                                    <tr ng-if="selectedLegislator.chamber == 'senate'" class="col-md-6 col-xs-12">
                                                        <td style="width: 100vh">Chamber: Senate</td>
                                                    </tr>
                                                    <tr class="col-xs-12 col-md-6">
                                                        <td style="width: 100vh" ng-if="selectedLegislator.phone">Contact: <a href="tel:{{selectedLegislator.phone}}">{{selectedLegislator.phone}}</a></td>
                                                        <td style="width: 100vh" ng-if="!selectedLegislator.phone">N.A</td>
                                                    </tr>
                                                    <tr ng-if="selectedLegislator.party == 'R'"  class="col-xs-12 col-md-6">
                                                        <td style="width: 100vh; border-bottom: 1px solid #ddd;"><img ng-src="http://cs-server.usc.edu:45678/hw/hw8/images/{{selectedLegislator.party | lowercase}}.png" style="max-height: 100%; max-width: 50%; width: 15%; float: left"/> Republican</td>
                                                    </tr>
                                                    <tr ng-if="selectedLegislator.party == 'D'"  class="col-xs-12 col-md-6">
                                                        <td style="width: 100vh; border-bottom: 1px solid #ddd;"><img ng-src="http://cs-server.usc.edu:45678/hw/hw8/images/{{selectedLegislator.party | lowercase}}.png" style="max-height: 100%; max-width: 50%; width: 15%; float: left"/> Democrat</td>
                                                    </tr>
                                                    <tr ng-if="selectedLegislator.party == 'I'" class="col-xs-12 col-md-6">
                                                        <td style="width: 100vh; border-bottom: 1px solid #ddd;"><img ng-src="http://independentamericanparty.org/wp-content/themes/v/images/logo-american-heritage-academy.png" style="max-height: 100%; max-width: 50%; width: 15%; float: left"/> Independent</td>
                                                    </tr>
                                                </table>
                                            </div>
                                            <table class="table">
                                                <tr>
                                                    <td style="width: 30%" class="onlyDesktop">Start Term</td>
                                                    <td ng-if="selectedLegislator.term_start">{{selectedLegislator.term_start| date: 'MMM d, yyyy'}}</td>
                                                    <td ng-if="!selectedLegislator.term_start">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td style="width: 30%" class="onlyDesktop">End Term</td>
                                                    <td ng-if="selectedLegislator.term_end">{{selectedLegislator.term_end| date: 'MMM d, yyyy'}}</td>
                                                    <td ng-if="!selectedLegislator.term_end">N.A</td>
                                                </tr>
                                                <tr class="onlyDesktop">
                                                    <td style="width: 30%">
                                                        Term
                                                    </td>
                                                    <td>
                                                        <div class="progress">
                                                            <div class="progress-bar" role="progressbar" aria-valuenow="{{dateDifference}}" aria-valuemin="0" aria-valuemax="100" style="width:{{dateDifference}}%">
                                                                {{dateDifference}}%
                                                            </div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td style="width: 30%" class="onlyDesktop">Office</td>
                                                    <td ng-if="selectedLegislator.office">{{selectedLegislator.office}}</td>
                                                    <td ng-if="!selectedLegislator.office">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td style="width: 30%" class="onlyDesktop">State</td>
                                                    <td ng-if="selectedLegislator.state_name">{{selectedLegislator.state_name}}</td>
                                                    <td ng-if="!selectedLegislator.state_name">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td style="width: 30%" class="onlyDesktop">Fax</td>
                                                    <td ng-if="selectedLegislator.fax"><a href="fax:{{selectedLegislator.fax}}">{{selectedLegislator.fax}}</a></td>
                                                    <td ng-if="!selectedLegislator.fax">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td style="width: 30%" class="onlyDesktop">Birthday</td>
                                                    <td ng-if="selectedLegislator.birthday">{{selectedLegislator.birthday | date: 'MMM d, yyyy'}}</td>
                                                    <td ng-if="!selectedLegislator.birthday">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td style="width: 30%" class="onlyDesktop">Social Links</td>
                                                    <td>
                                                        <a ng-if="selectedLegislator.twitter_id" href="https://twitter.com/{{selectedLegislator.twitter_id}}" target="_blank"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/t.png" style="max-width: 9.3%; max-height: 100%" alt=""></a>
                                                        <a ng-if="selectedLegislator.facebook_id" href="https://facebook.com/{{selectedLegislator.facebook_id}}" target="_blank"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/f.png" style="max-width: 9.3%; max-height: 100%" alt=""></a>
                                                        <a ng-if="selectedLegislator.website" href="{{selectedLegislator.website}}" target="_blank"><img src="http://cs-server.usc.edu:45678/hw/hw8/images/w.png" style="max-width: 9.3%; max-height: 100%" alt=""></a>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>

                                        <div class="col-md-6">
                                            <h4>Committees</h4>
                                            <table class="table legislatorDetailsComBillTable">
                                                <tr>
                                                    <th>Chamber</th>
                                                    <th>Committee ID</th>
                                                    <th class="onlyDesktop">Name</th>
                                                </tr>
                                                <tr ng-repeat="committee in legislatorCommittees">
                                                    <td ng-if="committee.chamber == 'house'">House</td>
                                                    <td ng-if="committee.chamber == 'senate'">Senate</td>
                                                    <td ng-if="committee.chamber == 'joint'">Joint</td>
                                                    <td ng-if="committee.committee_id">{{committee.committee_id}}</td>
                                                    <td ng-if="!committee.committee_id">N.A</td>
                                                    <td ng-if="committee.name" class="onlyDesktop">{{committee.name}}</td>
                                                    <td ng-if="!committee.name" class="onlyDesktop">N.A</td>
                                                </tr>
                                            </table>
                                            <h4>Bills</h4>
                                            <table class="table legislatorDetailsComBillTable">
                                                <!--<table class="table">-->
                                                <tr>
                                                    <th>Bill ID</th>
                                                    <th class="onlyDesktop">Title</th>
                                                    <th class="onlyDesktop">Chamber</th>
                                                    <th class="onlyDesktop">Bill Type</th>
                                                    <th class="onlyDesktop">Congress</th>
                                                    <th>Link</th>
                                                </tr>
                                                <tr ng-repeat="bill in legislatorBills">
                                                    <td>{{bill.bill_id| uppercase}}</td>
                                                    <td class="onlyDesktop" ng-if="bill.official_title">{{bill.official_title}}</td>
                                                    <td class="onlyDesktop" ng-if="!bill.official_title">N.A</td>
                                                    <td class="onlyDesktop" ng-if="bill.chamber">{{bill.chamber}}</td>
                                                    <td class="onlyDesktop" ng-if="!bill.chamber">N.A</td>
                                                    <td class="onlyDesktop" ng-if="bill.bill_type">{{bill.bill_type}}</td>
                                                    <td class="onlyDesktop" ng-if="!bill.bill_type">N.A</td>
                                                    <td class="onlyDesktop" ng-if="bill.congress">{{bill.congress}}</td>
                                                    <td class="onlyDesktop" ng-if="!bill.congress">N.A</td>
                                                    <td ng-if="bill.last_version.urls.pdf"><a href="{{bill.last_version.urls.pdf}}" target="_blank">Link</a></td>
                                                    <td ng-if="!bill.last_version.urls.pdf">N.A</td>
                                                </tr>
                                                <!--</table>-->
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="item">
                                    <div id="favouriteBillDetails" class="container-fluid" style="height: 80vh">
                                        <nav class="navbar navbar-default" style="margin-bottom: 0; background-color: white">
                                            <div class="container-fluid">
                                                <div class="navbar-header" style="width: 100%">
                                                    <button type="button" class="carousel-control btn-default" href="#favouritesCarousel" role="button" data-slide-to=0><i class="fa fa-angle-left" aria-hidden="true"></i></button><h4 style="display: inline-block;">Details</h4>
                                                    <a ng-if="favourite" href="#" class="btn btn-default favouritesButton" ng-click="changeFavouritesColor(selectedBill.bill_id, 'bill'); deleteFavourite(selectedBill.bill_id, 'bill')"><span class="glyphicon glyphicon-star" style="color: #fffd38;-webkit-text-stroke-width: 1px; -webkit-text-stroke-color: black"></span></a>
                                                    <a ng-if="!favourite" href="#" class="btn btn-default favouritesButton" ng-click="changeFavouritesColor(selectedBill.bill_id, 'bill')"><span class="glyphicon glyphicon-star-empty"></span></a>
                                                </div>
                                            </div>
                                        </nav>
                                        <div class="col-md-6">
                                            <table class="table">
                                                <tr>
                                                    <td>Bill ID</td>
                                                    <td>{{selectedBill.bill_id | uppercase}}</td>
                                                </tr>
                                                <tr class="onlyDesktop">
                                                    <td>Title</td>
                                                    <td ng-if="selectedBill.official_title">{{selectedBill.official_title}}</td>
                                                    <td ng-if="!selectedBill.official_title">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td>Bill Type</td>
                                                    <td>{{selectedBill.bill_type | uppercase}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Sponsor</td>
                                                    <td>{{selectedBill.sponsor.title}}.{{selectedBill.sponsor.last_name}},{{selectedBill.sponsor.first_name}}</td>
                                                </tr>
                                                <tr>
                                                    <td>Chamber</td>
                                                    <td ng-if="selectedBill.chamber == 'senate'">Senate</td>
                                                    <td ng-if="selectedBill.chamber == 'house'">House</td>
                                                </tr>
                                                <tr>
                                                    <td>Status</td>
                                                    <td ng-if="selectedBill.history.active == false">New</td>
                                                    <td ng-if="selectedBill.history.active == true">Active</td>
                                                </tr>
                                                <tr>
                                                    <td>Introduced On</td>
                                                    <td ng-if="selectedBill.introduced_on">{{selectedBill.introduced_on | date: "MMM d, yyyy"}}</td>
                                                    <td ng-if="!selectedBill.introduced_on">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td>Congress URL</td>
                                                    <td ng-if="selectedBill.last_version.urls.html"><a href="{{selectedBill.last_version.urls.html}}" target="_blank">URL</a></td>
                                                    <td ng-if="!selectedBill.last_version.urls.html">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td>Version Status</td>
                                                    <td ng-if="selectedBill.last_version.version_name">{{selectedBill.last_version.version_name}}</td>
                                                    <td ng-if="!selectedBill.last_version.version_name">N.A</td>
                                                </tr>
                                                <tr>
                                                    <td>Bill URL</td>
                                                    <td ng-if="selectedBill.last_version.urls.pdf"><a href="{{selectedBill.last_version.urls.pdf}}" target="_blank">Link</a></td>
                                                    <td ng-if="!selectedBill.last_version.urls.pdf">N.A</td>
                                                </tr>
                                            </table>
                                        </div>
                                        <div class="col-md-6" style="height: 90%">
                                            <object width="100%" height="100%" data="{{selectedBill.last_version.urls.pdf}}" type="application/pdf"></object>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>